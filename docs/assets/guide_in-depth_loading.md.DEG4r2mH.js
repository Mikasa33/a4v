import{_ as i,M as a,aw as n,L as t}from"./chunks/framework.CzXSTpVB.js";const g=JSON.parse('{"title":"全局 Loading","description":"","frontmatter":{},"headers":[],"relativePath":"guide/in-depth/loading.md","filePath":"guide/in-depth/loading.md","lastUpdated":1728461027000}'),l={name:"guide/in-depth/loading.md"};function h(e,s,p,k,d,o){return t(),a("div",null,s[0]||(s[0]=[n(`<h1 id="全局-loading" tabindex="-1">全局 Loading <a class="header-anchor" href="#全局-loading" aria-label="Permalink to &quot;全局 Loading&quot;">​</a></h1><p>全局 Loading 指的是页面刷新时出现的加载效果，通常是一个旋转的图标。</p><h2 id="原理" tabindex="-1">原理 <a class="header-anchor" href="#原理" aria-label="Permalink to &quot;原理&quot;">​</a></h2><p>由 <code>vite-plugin-app-loading</code> 插件实现，插件会在每个应用注入一个全局的 <code>loading.html</code>。</p><h2 id="关闭" tabindex="-1">关闭 <a class="header-anchor" href="#关闭" aria-label="Permalink to &quot;关闭&quot;">​</a></h2><p>如果你不需要全局 Loading，可以在 <code>.env</code> 文件中关闭：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-dark vitesse-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#59873A;">VITE_APP_LOADING</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959;"> =</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F;"> false</span></span></code></pre></div><h2 id="自定义" tabindex="-1">自定义 <a class="header-anchor" href="#自定义" aria-label="Permalink to &quot;自定义&quot;">​</a></h2><p>如果你想要自定义全局 Loading，可以在应用目录下，与 <code>index.html</code> 同级，创建一个 <code>loading.html</code> 文件，插件会自动读取并注入。这个html可以自行定义样式和动画。</p><div class="tip custom-block"><p class="custom-block-title">提示</p><ul><li>你可以使用跟 <code>index.html</code> 一样的语法，比如 <code>VITE_APP_TITLE</code> 变量，来获取应用的标题。</li><li>必须保证有一个 <code>id=&quot;__app-loading__&quot;</code> 的元素。</li><li>给 <code>id=&quot;__app-loading__&quot;</code> 的元素，加一个 <code>hidden</code> class。</li><li>必须保证有一个 <code>style[data-app-loading=&quot;inject-css&quot;]</code> 的元素。</li></ul><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes vitesse-dark vitesse-light vp-code" tabindex="0"><code><span class="line highlighted"><span style="--shiki-dark:#666666;--shiki-light:#999999;">&lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F;">style</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48;"> data-app-loading</span><span style="--shiki-dark:#666666;--shiki-light:#999999;">=</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977;">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959;">inject-css</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#999999;">  #</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48;">__app-loading__</span><span style="--shiki-dark:#666666;--shiki-light:#999999;">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48;">hidden</span><span style="--shiki-dark:#666666;--shiki-light:#999999;"> {</span></span>
<span class="line"><span style="--shiki-dark:#B8A965;--shiki-light:#998418;">    pointer-events</span><span style="--shiki-dark:#666666;--shiki-light:#999999;">:</span><span style="--shiki-dark:#C99076;--shiki-light:#A65E2B;"> none</span><span style="--shiki-dark:#666666;--shiki-light:#999999;">;</span></span>
<span class="line highlighted"><span style="--shiki-dark:#B8A965;--shiki-light:#998418;">    visibility</span><span style="--shiki-dark:#666666;--shiki-light:#999999;">:</span><span style="--shiki-dark:#C99076;--shiki-light:#A65E2B;"> hidden</span><span style="--shiki-dark:#666666;--shiki-light:#999999;">;</span></span>
<span class="line"><span style="--shiki-dark:#B8A965;--shiki-light:#998418;">    opacity</span><span style="--shiki-dark:#666666;--shiki-light:#999999;">:</span><span style="--shiki-dark:#4C9A91;--shiki-light:#2F798A;"> 0</span><span style="--shiki-dark:#666666;--shiki-light:#999999;">;</span></span>
<span class="line"><span style="--shiki-dark:#B8A965;--shiki-light:#998418;">    transition</span><span style="--shiki-dark:#666666;--shiki-light:#999999;">:</span><span style="--shiki-dark:#C99076;--shiki-light:#A65E2B;"> all</span><span style="--shiki-dark:#4C9A91;--shiki-light:#2F798A;"> 0.3</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959;">s</span><span style="--shiki-dark:#C99076;--shiki-light:#A65E2B;"> ease-out</span><span style="--shiki-dark:#666666;--shiki-light:#999999;">;</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#999999;">  }</span></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#A0ADA0;">  /* ... */</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#999999;">&lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F;">style</span><span style="--shiki-dark:#666666;--shiki-light:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#999999;">&lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F;">div</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48;"> id</span><span style="--shiki-dark:#666666;--shiki-light:#999999;">=</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977;">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959;">__app-loading__</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#A0ADA0;">  &lt;!-- ... --&gt;</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#999999;">  &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F;">div</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48;"> class</span><span style="--shiki-dark:#666666;--shiki-light:#999999;">=</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977;">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959;">title</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999;">&gt;</span><span style="--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;--shiki-light:#B31D28;--shiki-light-font-style:italic;">&lt;</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#393A34;">%= VITE_APP_TITLE %&gt;</span><span style="--shiki-dark:#666666;--shiki-light:#999999;">&lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F;">div</span><span style="--shiki-dark:#666666;--shiki-light:#999999;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#999999;">&lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F;">div</span><span style="--shiki-dark:#666666;--shiki-light:#999999;">&gt;</span></span></code></pre></div></div>`,10)]))}const c=i(l,[["render",h]]);export{g as __pageData,c as default};
